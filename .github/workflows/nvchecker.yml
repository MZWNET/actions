name: Version Check

on:
  workflow_dispatch:

jobs:
  check-versions:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v4
    - name: Fix CA issue
      run: |
        sudo mkdir -p /etc/pki/tls/certs/
        sudo ln -s /etc/ssl/certs/ca-bundle.crt /etc/pki/tls/certs/ca-bundle.crt
    - name: Install nvchecker
      run: pipx install nvchecker
    - name: Check update
      run: |
        nvchecker -c assets/nvchecker/nvchecker.toml
        ls -alh
        which nvtake
        nvtake --help
        which nvcmp
        nvcmp --help